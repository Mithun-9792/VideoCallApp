(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{569:(e,a,r)=>{"use strict";r.d(a,{default:()=>n});var t=r(5155);r(2115);var l=r(6916);let n=function(e){let{children:a}=e;return(0,t.jsx)(l.jI,{client:l.Ay.createClient({mode:"rtc",codec:"vp8"}),children:a})}},1852:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,3063,23)),Promise.resolve().then(r.bind(r,569)),Promise.resolve().then(r.bind(r,2344))},2344:(e,a,r)=>{"use strict";r.d(a,{default:()=>s});var t=r(5155),l=r(2115),n=r(6916);function s(){let[e,a]=(0,l.useState)("4e4f366a04334ff19d2205abd577b0bb"),[r,s]=(0,l.useState)("test"),[c,i]=(0,l.useState)(null),[d,o]=(0,l.useState)(!1),[u,g]=(0,l.useState)(!0),[x,h]=(0,l.useState)(!0);(0,n.o9)({appid:e,channel:r,token:c||null},d);let[m,p]=(0,l.useState)(null),[b,f]=(0,l.useState)(null);(0,l.useEffect)(()=>{async function e(){try{await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});let e=await n.Ay.createMicrophoneAudioTrack(),a=await n.Ay.createCameraVideoTrack();p(e),f(a)}catch(e){console.error("Error accessing camera/microphone:",e)}}(u||x)&&e()},[u,x]),(0,n.ZR)([m,b]);let v=(0,n.iT)();return v.length>0&&console.log(v,"remoteUsers"),(0,t.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-900 text-white p-6",children:d?(0,t.jsxs)("div",{className:"w-full max-w-4xl flex flex-col items-center gap-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("div",{className:"w-64 h-64 bg-gray-700 flex items-center justify-center rounded-lg",children:(0,t.jsx)(n.Fd,{audioTrack:m,videoTrack:b,cameraOn:x,micOn:u,children:(0,t.jsx)("span",{className:"text-center",children:"You"})})}),v.length>0?v.map(e=>(0,t.jsxs)("div",{className:"w-64 h-64 bg-gray-700 flex items-center justify-center rounded-lg",children:[(0,t.jsx)(n.aG,{user:e}),(0,t.jsx)("span",{className:"text-center",children:e.uid})]},e.uid)):(0,t.jsx)("div",{className:"w-64 h-64 bg-gray-700 flex items-center justify-center rounded-lg",children:"Waiting for user..."})]}),(0,t.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,t.jsx)("button",{onClick:()=>g(!u),className:"px-6 py-2 rounded-lg ".concat(u?"bg-green-500":"bg-red-500"),children:u?"Mute Mic":"Unmute Mic"}),(0,t.jsx)("button",{onClick:()=>h(!x),className:"px-6 py-2 rounded-lg ".concat(x?"bg-green-500":"bg-red-500"),children:x?"Turn Off Camera":"Turn On Camera"}),(0,t.jsx)("button",{onClick:()=>o(!1),className:"px-6 py-2 bg-red-600 rounded-lg",children:"Leave Call"})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("h1",{className:"text-xl font-bold",children:"Join a Video Call"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Agora App ID",className:"p-2 bg-gray-800 border border-gray-600 rounded-lg w-64"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>s(e.target.value),placeholder:"Channel Name",className:"p-2 bg-gray-800 border border-gray-600 rounded-lg w-64"}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>i(e.target.value),placeholder:"Token (Optional)",className:"p-2 bg-gray-800 border border-gray-600 rounded-lg w-64"}),(0,t.jsx)("button",{onClick:()=>o(!0),className:"px-6 py-2 bg-blue-600 rounded-lg",children:"Join Call"})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[435,641,63,441,684,358],()=>a(1852)),_N_E=e.O()}]);